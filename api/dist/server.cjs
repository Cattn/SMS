(()=>{"use strict";var e={252:e=>{e.exports=require("express")},296:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getFile=t.getFiles=void 0;const o=r(s(928)),l=r(s(896));t.getFiles=async(e,t)=>{try{const e=o.default.join(process.cwd(),"../uploads"),s=l.default.readdirSync(e);t.json({files:s})}catch{t.status(500).json({error:"Unable to read uploads directory"})}},t.getFile=async(e,t)=>{const s=o.default.join(process.cwd(),"../uploads",e.params.filename);t.sendFile(s)}},376:e=>{e.exports=require("express-fileupload")},498:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.errorHandler=void 0,t.errorHandler=(e,t,s)=>{console.error(e),s.status(e.status||500).json({message:e.message||"Internal Server Error"})}},720:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.uploadFile=void 0;const o=r(s(928));t.uploadFile=async(e,t)=>{if(!e.files||0===Object.keys(e.files).length)return void t.status(400).send("No files were uploaded.");const s=e.files.file,r=o.default.join(process.cwd(),"../uploads",s.name);s.mv(r,(e=>{e?t.status(500).send(e):t.json({message:"File uploaded successfully",filename:s.name})}))}},839:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=(0,s(252).Router)(),o=s(720),l=s(296);r.post("/upload",o.uploadFile),r.get("/getFiles",l.getFiles),r.get("/getFile/:filename",l.getFile),t.default=r},896:e=>{e.exports=require("fs")},903:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(s(252)),l=r(s(839)),u=s(498),a=r(s(376)),n=(0,o.default)();n.use(o.default.json()),n.use((0,a.default)()),n.use("/api/",l.default),n.use(u.errorHandler),t.default=n},905:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});r(s(903)).default.listen(5823,(()=>{console.log("Server running on port 5823")}))},928:e=>{e.exports=require("path")}},t={};!function s(r){var o=t[r];if(void 0!==o)return o.exports;var l=t[r]={exports:{}};return e[r].call(l.exports,l,l.exports,s),l.exports}(905)})();